// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "mongodb"
    url      = env("DATABASE_URL")
}

model Clinic {
    id        String   @id @default(auto()) @map("_id") @db.ObjectId
    name      String
    users     String[]
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    @@map("clinics")
}

model Payment {
    id            String         @id @default(auto()) @map("_id") @db.ObjectId
    clinicId      String         @db.ObjectId
    pacientName   String
    procedure     String
    expertise     Expertise?
    paymentMethod PaymentMethod?
    value         Int
    cost          Int
    status        PaymentStatus
    observations  String
    userId        String
    paymentDate   DateTime
    createdAt     DateTime       @default(now())
    updatedAt     DateTime       @updatedAt

    @@map("payments")
}

enum PaymentMethod {
    CASH        @map("dinheiro")
    CREDIT_CARD @map("Cartão de crédito")
    DEBIT_CARD  @map("Cartão de débito")
    PIX         @map("Pix")
}

enum PaymentStatus {
    PENDING   @map("Pendente")
    COMPLETED @map("Completo")
    CANCELED  @map("Cancelado")
}

enum Expertise {
    ORTHODONTICS @map("Ortodontia")
    ENDODONTICS  @map("Endodontia")
    DENTISTRY    @map("Dentistica")
    PERIODONTICS @map("Periodontia")
    GENERAL      @map("Geral")
    SPECIALIZED  @map("Especializado")
    OTHER        @map("Outro")
}

model PaymentTablePreferences {
    id                String   @id @default(auto()) @map("_id") @db.ObjectId
    clinicId          String   @unique @db.ObjectId
    createdAt         DateTime @default(now())
    updatedAt         DateTime @updatedAt
    hasSpecialty      Boolean?
    hasPaymentMethod  Boolean?
    hasPaymentAccount Boolean?

    @@map("PaymentTablePreferences")
}
